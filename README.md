# Antigravity Tools ğŸš€

<div align="center">
  <img src="public/icon.png" alt="Antigravity Logo" width="120" height="120" style="border-radius: 24px; box-shadow: 0 10px 30px rgba(0,0,0,0.15);">

  <h3>Cá»•ng Ä‘iá»u phá»‘i AI hiá»‡u suáº¥t cao cÃ¡ nhÃ¢n cá»§a báº¡n</h3>
  <p>KhÃ´ng chá»‰ lÃ  quáº£n lÃ½ tÃ i khoáº£n, mÃ  cÃ²n lÃ  giáº£i phÃ¡p tá»‘i Æ°u Ä‘á»ƒ phÃ¡ vá»¡ rÃ o cáº£n gá»i API.</p>
  
  <p>
    <a href="https://github.com/lbjlaq/Antigravity-Manager">
      <img src="https://img.shields.io/badge/Version-3.3.2-blue?style=flat-square" alt="Version">
    </a>
    <img src="https://img.shields.io/badge/Tauri-v2-orange?style=flat-square" alt="Tauri">
    <img src="https://img.shields.io/badge/Backend-Rust-red?style=flat-square" alt="Rust">
    <img src="https://img.shields.io/badge/Frontend-React-61DAFB?style=flat-square" alt="React">
    <img src="https://img.shields.io/badge/License-CC--BY--NC--SA--4.0-lightgrey?style=flat-square" alt="License">
  </p>

  <p>
    <a href="#-tÃ­nh-nÄƒng-cá»‘t-lÃµi">TÃ­nh nÄƒng cá»‘t lÃµi</a> â€¢ 
    <a href="#-giao-diá»‡n">Giao diá»‡n</a> â€¢ 
    <a href="#-kiáº¿n-trÃºc-ká»¹-thuáº­t">Kiáº¿n trÃºc ká»¹ thuáº­t</a> â€¢ 
    <a href="#-hÆ°á»›ng-dáº«n-cÃ i-Ä‘áº·t">HÆ°á»›ng dáº«n cÃ i Ä‘áº·t</a> â€¢ 
    <a href="#-káº¿t-ná»‘i-nhanh">Káº¿t ná»‘i nhanh</a>
  </p>

  <p>
    <strong>Tiáº¿ng Viá»‡t</strong> | 
    <a href="./README_EN.md">English</a>
  </p>
</div>

---

**Antigravity Tools** lÃ  má»™t á»©ng dá»¥ng mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng Ä‘Æ°á»£c thiáº¿t káº¿ cho cÃ¡c nhÃ  phÃ¡t triá»ƒn vÃ  nhá»¯ng ngÆ°á»i Ä‘am mÃª AI. NÃ³ káº¿t há»£p hoÃ n háº£o viá»‡c quáº£n lÃ½ Ä‘a tÃ i khoáº£n, chuyá»ƒn Ä‘á»•i giao thá»©c vÃ  Ä‘iá»u phá»‘i yÃªu cáº§u thÃ´ng minh, mang Ä‘áº¿n cho báº¡n má»™t **tráº¡m trung chuyá»ƒn AI cá»¥c bá»™** á»•n Ä‘á»‹nh, cá»±c nhanh vÃ  chi phÃ­ tháº¥p.

ThÃ´ng qua á»©ng dá»¥ng nÃ y, báº¡n cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i Session Web thÃ´ng thÆ°á»ng (Google/Anthropic) thÃ nh cÃ¡c giao diá»‡n API tiÃªu chuáº©n, loáº¡i bá» hoÃ n toÃ n khoáº£ng cÃ¡ch giao thá»©c giá»¯a cÃ¡c nhÃ  cung cáº¥p khÃ¡c nhau.

## ğŸŒŸ PhÃ¢n tÃ­ch tÃ­nh nÄƒng chuyÃªn sÃ¢u (Detailed Features)

### 1. ğŸ›ï¸ Báº£ng Ä‘iá»u khiá»ƒn tÃ i khoáº£n thÃ´ng minh (Smart Dashboard)
*   **GiÃ¡m sÃ¡t thá»i gian thá»±c toÃ n cáº§u**: NhÃ¬n thoÃ¡ng qua tÃ¬nh tráº¡ng sá»©c khá»e cá»§a táº¥t cáº£ cÃ¡c tÃ i khoáº£n, bao gá»“m **háº¡n ngáº¡ch cÃ²n láº¡i trung bÃ¬nh** cá»§a Gemini Pro, Gemini Flash, Claude vÃ  Gemini Drawing.
*   **Äá» xuáº¥t tÃ i khoáº£n tá»‘t nháº¥t (Smart Recommendation)**: Há»‡ thá»‘ng sáº½ lá»c vÃ  Ä‘á» xuáº¥t "tÃ i khoáº£n tá»‘t nháº¥t" dá»±a trÃªn má»©c Ä‘á»™ dÆ° thá»«a háº¡n ngáº¡ch cá»§a táº¥t cáº£ cÃ¡c tÃ i khoáº£n hiá»‡n táº¡i theo thá»i gian thá»±c, há»— trá»£ **chuyá»ƒn Ä‘á»•i má»™t cÃº nháº¥p chuá»™t**.
*   **áº¢nh chá»¥p nhanh tÃ i khoáº£n hoáº¡t Ä‘á»™ng**: Hiá»ƒn thá»‹ trá»±c quan tá»· lá»‡ pháº§n trÄƒm háº¡n ngáº¡ch cá»¥ thá»ƒ vÃ  thá»i gian Ä‘á»“ng bá»™ hÃ³a cuá»‘i cÃ¹ng cá»§a tÃ i khoáº£n Ä‘ang hoáº¡t Ä‘á»™ng.

### 2. ğŸ” Quáº£n lÃ½ tÃ i khoáº£n máº¡nh máº½ (Account Management)
*   **á»¦y quyá»n OAuth 2.0 (Tá»± Ä‘á»™ng/Thá»§ cÃ´ng)**: Khi thÃªm tÃ i khoáº£n, liÃªn káº¿t á»§y quyá»n cÃ³ thá»ƒ sao chÃ©p sáº½ Ä‘Æ°á»£c táº¡o trÆ°á»›c, há»— trá»£ hoÃ n táº¥t á»§y quyá»n trÃªn báº¥t ká»³ trÃ¬nh duyá»‡t nÃ o; sau khi gá»i láº¡i thÃ nh cÃ´ng, á»©ng dá»¥ng sáº½ tá»± Ä‘á»™ng hoÃ n táº¥t vÃ  lÆ°u (náº¿u cáº§n, báº¡n cÃ³ thá»ƒ nháº¥p vÃ o "TÃ´i Ä‘Ã£ á»§y quyá»n, tiáº¿p tá»¥c" Ä‘á»ƒ hoÃ n táº¥t thá»§ cÃ´ng).
*   **Nháº­p Ä‘a chiá»u**: Há»— trá»£ nháº­p Token Ä‘Æ¡n láº», nháº­p hÃ ng loáº¡t JSON (vÃ­ dá»¥: sao lÆ°u tá»« cÃ¡c cÃ´ng cá»¥ khÃ¡c) vÃ  di chuyá»ƒn nÃ³ng tá»± Ä‘á»™ng tá»« cÆ¡ sá»Ÿ dá»¯ liá»‡u phiÃªn báº£n cÅ© V1.
*   **Cháº¿ Ä‘á»™ xem cáº¥p cá»•ng**: Há»— trá»£ chuyá»ƒn Ä‘á»•i cháº¿ Ä‘á»™ xem kÃ©p "Danh sÃ¡ch" vÃ  "LÆ°á»›i". Cung cáº¥p kháº£ nÄƒng phÃ¡t hiá»‡n lá»‡nh cáº¥m 403, tá»± Ä‘á»™ng Ä‘Ã¡nh dáº¥u vÃ  bá» qua cÃ¡c tÃ i khoáº£n cÃ³ quyá»n báº¥t thÆ°á»ng.

### 3. ğŸ”Œ Chuyá»ƒn Ä‘á»•i giao thá»©c vÃ  chuyá»ƒn tiáº¿p (API Proxy)
*   **ThÃ­ch á»©ng toÃ n giao thá»©c (Multi-Sink)**:
    *   **Äá»‹nh dáº¡ng OpenAI**: Cung cáº¥p Ä‘iá»ƒm cuá»‘i `/v1/chat/completions`, tÆ°Æ¡ng thÃ­ch vá»›i 99% cÃ¡c á»©ng dá»¥ng AI hiá»‡n cÃ³.
    *   **Äá»‹nh dáº¡ng Anthropic**: Cung cáº¥p giao diá»‡n `/v1/messages` gá»‘c, há»— trá»£ Ä‘áº§y Ä‘á»§ chá»©c nÄƒng cá»§a **Claude Code CLI** (nhÆ° chuá»—i tÆ° duy, tá»« nháº¯c há»‡ thá»‘ng).
    *   **Äá»‹nh dáº¡ng Gemini**: Há»— trá»£ gá»i trá»±c tiáº¿p SDK chÃ­nh thá»©c cá»§a Google.
*   **Tá»± phá»¥c há»“i tráº¡ng thÃ¡i thÃ´ng minh**: Khi yÃªu cáº§u gáº·p lá»—i `429 (Too Many Requests)` hoáº·c `401 (Expire)`, backend sáº½ kÃ­ch hoáº¡t **tá»± Ä‘á»™ng thá»­ láº¡i vÃ  luÃ¢n chuyá»ƒn im láº·ng** trong mili giÃ¢y, Ä‘áº£m báº£o hoáº¡t Ä‘á»™ng kinh doanh khÃ´ng bá»‹ giÃ¡n Ä‘oáº¡n.

### 4. ğŸ”€ Trung tÃ¢m Ä‘á»‹nh tuyáº¿n mÃ´ hÃ¬nh (Model Router)
*   **Ãnh xáº¡ theo sÃª-ri**: Báº¡n cÃ³ thá»ƒ phÃ¢n loáº¡i cÃ¡c ID mÃ´ hÃ¬nh gá»‘c phá»©c táº¡p vÃ o "gia Ä‘Ã¬nh quy cÃ¡ch" (vÃ­ dá»¥: Ä‘á»‹nh tuyáº¿n táº¥t cáº£ cÃ¡c yÃªu cáº§u GPT-4 Ä‘áº¿n `gemini-3-pro-high`).
*   **Chuyá»ƒn hÆ°á»›ng cáº¥p chuyÃªn gia**: Há»— trá»£ Ã¡nh xáº¡ mÃ´ hÃ¬nh cáº¥p biá»ƒu thá»©c chÃ­nh quy tÃ¹y chá»‰nh, kiá»ƒm soÃ¡t chÃ­nh xÃ¡c mÃ´ hÃ¬nh Ä‘Ã­ch cá»§a tá»«ng yÃªu cáº§u.

### 5. ğŸ¨ Há»— trá»£ Ä‘a phÆ°Æ¡ng thá»©c vÃ  Imagen 3
*   **Kiá»ƒm soÃ¡t cháº¥t lÆ°á»£ng hÃ¬nh áº£nh nÃ¢ng cao**: Há»— trá»£ tá»± Ä‘á»™ng Ã¡nh xáº¡ cÃ¡c tham sá»‘ `size` cá»§a OpenAI (nhÆ° `1024x1024`, `16:9`) sang cÃ¡c quy cÃ¡ch tÆ°Æ¡ng á»©ng cá»§a Imagen 3.
*   **Há»— trá»£ Body siÃªu máº¡nh**: Backend há»— trá»£ Payload lÃªn Ä‘áº¿n **100MB**, dÆ° sá»©c xá»­ lÃ½ nháº­n dáº¡ng hÃ¬nh áº£nh Ä‘á»™ nÃ©t cao 4K.

## ğŸ“¸ Giao diá»‡n (GUI Overview)

````carousel
![Báº£ng Ä‘iá»u khiá»ƒn - GiÃ¡m sÃ¡t háº¡n ngáº¡ch toÃ n cáº§u vÃ  chuyá»ƒn Ä‘á»•i má»™t cÃº nháº¥p chuá»™t](docs/images/dashboard-light.png)
<!-- slide -->
![Danh sÃ¡ch tÃ i khoáº£n - Hiá»ƒn thá»‹ háº¡n ngáº¡ch máº­t Ä‘á»™ cao vÃ  Ä‘Ã¡nh dáº¥u thÃ´ng minh 403](docs/images/accounts-light.png)
<!-- slide -->
![Giá»›i thiá»‡u - Vá» Antigravity Tools](docs/images/about-dark.png)
<!-- slide -->
![API Proxy - Kiá»ƒm soÃ¡t dá»‹ch vá»¥](docs/images/v3/proxy-settings.png)
<!-- slide -->
![CÃ i Ä‘áº·t há»‡ thá»‘ng - Cáº¥u hÃ¬nh chung](docs/images/settings-dark.png)
````

## ğŸ—ï¸ Kiáº¿n trÃºc ká»¹ thuáº­t (Architecture)

### Tá»•ng quan dá»± Ã¡n
Antigravity Tools lÃ  má»™t á»©ng dá»¥ng mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n hiá»‡u suáº¥t cao, Ä‘Ã³ng vai trÃ² lÃ  cá»•ng AI vÃ  trÃ¬nh quáº£n lÃ½ tÃ i khoáº£n. NÃ³ cho phÃ©p ngÆ°á»i dÃ¹ng quáº£n lÃ½ nhiá»u tÃ i khoáº£n AI (Ä‘áº·c biá»‡t lÃ  Google Gemini vÃ  Anthropic Claude), giÃ¡m sÃ¡t háº¡n ngáº¡ch vÃ  cung cáº¥p proxy API cá»¥c bá»™ giÃºp chuáº©n hÃ³a cÃ¡c giao thá»©c cá»§a nhÃ  cung cáº¥p AI khÃ¡c nhau thÃ nh cÃ¡c Ä‘á»‹nh dáº¡ng phá»• biáº¿n (OpenAI, Anthropic, Gemini).

### NgÄƒn xáº¿p cÃ´ng nghá»‡ (Tech Stack)

#### Core Framework
- **Tauri v2**: á»¨ng dá»¥ng Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng Tauri, cung cáº¥p thá»i gian cháº¡y nháº¹ báº±ng cÃ¡ch táº­n dá»¥ng webview gá»‘c cá»§a há»‡ Ä‘iá»u hÃ nh vÃ  backend Rust.

#### Frontend (UI)
- **Framework**: React 19
- **Build Tool**: Vite 7
- **NgÃ´n ngá»¯**: TypeScript
- **Styling**: TailwindCSS, DaisyUI
- **Quáº£n lÃ½ tráº¡ng thÃ¡i**: Zustand
- **Routing**: React Router DOM
- **Äa ngÃ´n ngá»¯**: i18next
- **Biá»ƒu Ä‘á»“**: Recharts

#### Backend (Há»‡ thá»‘ng & Logic)
- **NgÃ´n ngá»¯**: Rust
- **Server Framework**: Axum (Server backend hiá»‡u suáº¥t cao)
- **CÆ¡ sá»Ÿ dá»¯ liá»‡u**: SQLite (LÆ°u trá»¯ dá»¯ liá»‡u tÃ i khoáº£n cá»¥c bá»™ an toÃ n)
- **CÃ¡c mÃ´ Ä‘un chÃ­nh**:
    - `proxy`: Xá»­ lÃ½ cháº·n yÃªu cáº§u API, dá»‹ch giao thá»©c (Mapper) vÃ  chuyá»ƒn tiáº¿p ngÆ°á»£c dÃ²ng.
    - `models`: Äá»‹nh nghÄ©a cáº¥u trÃºc dá»¯ liá»‡u cho tÃ i khoáº£n, cáº¥u hÃ¬nh vÃ  payload API.
    - `modules`: Chá»©a logic cá»‘t lÃµi cho ghi nháº­t kÃ½, quáº£n lÃ½ khay há»‡ thá»‘ng vÃ  cáº¥u hÃ¬nh.
    - `commands`: Hiá»ƒn thá»‹ cÃ¡c chá»©c nÄƒng Rust cho frontend thÃ´ng qua cÆ¡ cháº¿ IPC cá»§a Tauri.

### SÆ¡ Ä‘á»“ luá»“ng dá»¯ liá»‡u

```mermaid
graph TD
    Client([á»¨ng dá»¥ng bÃªn ngoÃ i: Claude Code/NextChat]) -->|OpenAI/Anthropic| Gateway[Antigravity Axum Server]
    Gateway --> Middleware[Middleware: XÃ¡c thá»±c/Giá»›i háº¡n tá»‘c Ä‘á»™/Log]
    Middleware --> Router[Model Router: Ãnh xáº¡ ID]
    Router --> Dispatcher[Bá»™ phÃ¢n phá»‘i tÃ i khoáº£n: VÃ²ng trÃ²n/Trá»ng sá»‘]
    Dispatcher --> Mapper[Bá»™ chuyá»ƒn Ä‘á»•i giao thá»©c: Request Mapper]
    Mapper --> Upstream[YÃªu cáº§u ngÆ°á»£c dÃ²ng: Google/Anthropic API]
    Upstream --> ResponseMapper[Bá»™ chuyá»ƒn Ä‘á»•i pháº£n há»“i: Response Mapper]
    ResponseMapper --> Client
```

##  HÆ°á»›ng dáº«n cÃ i Ä‘áº·t (Installation)

### TÃ¹y chá»n A: CÃ i Ä‘áº·t qua Terminal macOS (KhuyÃªn dÃ¹ng)
Náº¿u báº¡n Ä‘Ã£ cÃ i Ä‘áº·t [Homebrew](https://brew.sh/), báº¡n cÃ³ thá»ƒ cÃ i Ä‘áº·t nhanh báº±ng cÃ¡c lá»‡nh sau:

```bash
# 1. ÄÄƒng kÃ½ Tap cá»§a kho lÆ°u trá»¯ nÃ y
brew tap lbjlaq/antigravity-manager https://github.com/lbjlaq/Antigravity-Manager

# 2. CÃ i Ä‘áº·t á»©ng dá»¥ng
brew install --cask antigravity-tools
```
# Náº¿u gáº·p váº¥n Ä‘á» vá» quyá»n, hÃ£y sá»­ dá»¥ng --no-quarantine
brew install --cask --no-quarantine antigravity
```

### TÃ¹y chá»n B: Táº£i xuá»‘ng thá»§ cÃ´ng
Truy cáº­p [GitHub Releases](https://github.com/lbjlaq/Antigravity-Manager/releases) Ä‘á»ƒ táº£i xuá»‘ng gÃ³i tÆ°Æ¡ng á»©ng vá»›i há»‡ thá»‘ng cá»§a báº¡n:
*   **macOS**: `.dmg` (Há»— trá»£ Apple Silicon & Intel)
*   **Windows**: `.msi` hoáº·c báº£n di Ä‘á»™ng `.zip`
*   **Linux**: `.deb` hoáº·c `AppImage`

### ğŸ› ï¸ Kháº¯c phá»¥c sá»± cá»‘ thÆ°á»ng gáº·p (Troubleshooting)

#### macOS bÃ¡o "á»¨ng dá»¥ng bá»‹ há»ng, khÃ´ng thá»ƒ má»Ÿ"?
Do cÆ¡ cháº¿ báº£o máº­t cá»§a macOS, cÃ¡c á»©ng dá»¥ng khÃ´ng Ä‘Æ°á»£c táº£i xuá»‘ng tá»« App Store cÃ³ thá»ƒ kÃ­ch hoáº¡t thÃ´ng bÃ¡o nÃ y. Báº¡n cÃ³ thá»ƒ sá»­a nhanh theo cÃ¡c bÆ°á»›c sau:

1.  **Sá»­a báº±ng dÃ²ng lá»‡nh** (KhuyÃªn dÃ¹ng):
    Má»Ÿ Terminal vÃ  cháº¡y lá»‡nh sau:
    ```bash
    sudo xattr -rd com.apple.quarantine "/Applications/Antigravity Tools.app"
    ```
2.  **Máº¹o cÃ i Ä‘áº·t Homebrew**:
    Náº¿u báº¡n cÃ i Ä‘áº·t báº±ng brew, báº¡n cÃ³ thá»ƒ thÃªm tham sá»‘ `--no-quarantine` Ä‘á»ƒ trÃ¡nh váº¥n Ä‘á» nÃ y:
    ```bash
    brew install --cask --no-quarantine antigravity
    ```

## ğŸ”Œ VÃ­ dá»¥ káº¿t ná»‘i nhanh

### ğŸ” Quy trÃ¬nh á»§y quyá»n OAuth (ThÃªm tÃ i khoáº£n)
1. Má»Ÿ "Accounts / TÃ i khoáº£n" â†’ "ThÃªm tÃ i khoáº£n" â†’ "OAuth".
2. Cá»­a sá»• báº­t lÃªn sáº½ táº¡o trÆ°á»›c liÃªn káº¿t á»§y quyá»n trÆ°á»›c khi nháº¥p vÃ o nÃºt; nháº¥p vÃ o liÃªn káº¿t Ä‘á»ƒ sao chÃ©p vÃ o khay nhá»› táº¡m há»‡ thá»‘ng, sau Ä‘Ã³ má»Ÿ báº±ng trÃ¬nh duyá»‡t báº¡n muá»‘n vÃ  hoÃ n táº¥t á»§y quyá»n.
3. Sau khi á»§y quyá»n hoÃ n táº¥t, trÃ¬nh duyá»‡t sáº½ má»Ÿ trang gá»i láº¡i cá»¥c bá»™ vÃ  hiá»ƒn thá»‹ "âœ… á»¦y quyá»n thÃ nh cÃ´ng!".
4. á»¨ng dá»¥ng sáº½ tá»± Ä‘á»™ng tiáº¿p tá»¥c hoÃ n táº¥t á»§y quyá»n vÃ  lÆ°u tÃ i khoáº£n; náº¿u khÃ´ng tá»± Ä‘á»™ng hoÃ n táº¥t, báº¡n cÃ³ thá»ƒ nháº¥p vÃ o "TÃ´i Ä‘Ã£ á»§y quyá»n, tiáº¿p tá»¥c" Ä‘á»ƒ hoÃ n táº¥t thá»§ cÃ´ng.

> Máº¹o: LiÃªn káº¿t á»§y quyá»n chá»©a cá»•ng gá»i láº¡i dÃ¹ng má»™t láº§n, vui lÃ²ng luÃ´n sá»­ dá»¥ng liÃªn káº¿t má»›i nháº¥t Ä‘Æ°á»£c táº¡o trong cá»­a sá»• báº­t lÃªn; náº¿u á»©ng dá»¥ng khÃ´ng cháº¡y hoáº·c cá»­a sá»• báº­t lÃªn Ä‘Ã£ Ä‘Ã³ng khi á»§y quyá»n, trÃ¬nh duyá»‡t cÃ³ thá»ƒ bÃ¡o `localhost refused connection`.

### CÃ¡ch káº¿t ná»‘i Claude Code CLI?
1.  Khá»Ÿi Ä‘á»™ng Antigravity vÃ  báº­t dá»‹ch vá»¥ trong trang "API Proxy".
2.  Cháº¡y trong terminal:
```bash
export ANTHROPIC_API_KEY="sk-antigravity"
export ANTHROPIC_BASE_URL="http://127.0.0.1:8045"
claude
```

### CÃ¡ch káº¿t ná»‘i Kilo Code?
1.  **Chá»n giao thá»©c**: KhuyÃªn dÃ¹ng **Giao thá»©c Gemini**.
2.  **Base URL**: Äiá»n `http://127.0.0.1:8045`.
3.  **LÆ°u Ã½**: 
    - **Háº¡n cháº¿ giao thá»©c OpenAI**: Khi Kilo Code sá»­ dá»¥ng cháº¿ Ä‘á»™ OpenAI, Ä‘Æ°á»ng dáº«n yÃªu cáº§u cá»§a nÃ³ sáº½ chá»“ng chÃ©o táº¡o ra Ä‘Æ°á»ng dáº«n khÃ´ng chuáº©n `/v1/chat/completions/responses`, khiáº¿n Antigravity tráº£ vá» 404. VÃ¬ váº­y, vui lÃ²ng Ä‘iá»n Base URL vÃ  chá»n cháº¿ Ä‘á»™ Gemini.
    - **Ãnh xáº¡ mÃ´ hÃ¬nh**: TÃªn mÃ´ hÃ¬nh trong Kilo Code cÃ³ thá»ƒ khÃ´ng khá»›p vá»›i cÃ i Ä‘áº·t máº·c Ä‘á»‹nh cá»§a Antigravity. Náº¿u khÃ´ng thá»ƒ káº¿t ná»‘i, vui lÃ²ng thiáº¿t láº­p Ã¡nh xáº¡ tÃ¹y chá»‰nh trong trang "Ãnh xáº¡ mÃ´ hÃ¬nh" vÃ  xem **tá»‡p nháº­t kÃ½** Ä‘á»ƒ gá»¡ lá»—i.

### CÃ¡ch sá»­ dá»¥ng trong Python?
```python
import openai

client = openai.OpenAI(
    api_key="sk-antigravity",
    base_url="http://127.0.0.1:8045/v1"
)

response = client.chat.completions.create(
    model="gemini-3-flash",
    messages=[{"role": "user", "content": "Xin chÃ o, hÃ£y giá»›i thiá»‡u báº£n thÃ¢n"}]
)
print(response.choices[0].message.content)
```

## ğŸ“ NhÃ  phÃ¡t triá»ƒn vÃ  Cá»™ng Ä‘á»“ng

*   **Nháº­t kÃ½ thay Ä‘á»•i (Changelog)**:
    *   **v3.3.0 (2025-12-27)**:
        - **Cáº­p nháº­t quan trá»ng (Major Updates)**:
            - **ThÃ­ch á»©ng sÃ¢u Codex CLI & Claude CLI (Cáº£m Æ¡n nÃ²ng cá»‘t @llsenyue PR #93)**: 
                - **TÆ°Æ¡ng thÃ­ch hoÃ n toÃ n Coding Agent**: Thá»±c hiá»‡n há»— trá»£ hoÃ n háº£o cho Codex CLI, bao gá»“m thÃ­ch á»©ng sÃ¢u Ä‘iá»ƒm cuá»‘i `/v1/responses` vÃ  chuyá»ƒn Ä‘á»•i thÃ´ng minh lá»‡nh gá»i cÃ´ng cá»¥ shell (SSOP).
                - **TÄƒng cÆ°á»ng suy luáº­n Claude CLI**: Giá»›i thiá»‡u lÆ°u trá»¯ vÃ  Ä‘iá»n láº¡i `thoughtSignature` toÃ n cáº§u, giáº£i quyáº¿t triá»‡t Ä‘á»ƒ lá»—i xÃ¡c minh chá»¯ kÃ½ khi Claude CLI sá»­ dá»¥ng cÃ¡c mÃ´ hÃ¬nh dÃ²ng Gemini 3.
            - **TÃ¡i cáº¥u trÃºc ngÄƒn xáº¿p giao thá»©c OpenAI**:
                - **ThÃªm giao diá»‡n Completions**: Há»— trá»£ Ä‘áº§y Ä‘á»§ Ä‘á»‹nh tuyáº¿n `/v1/completions` vÃ  `/v1/responses`, tÆ°Æ¡ng thÃ­ch vá»›i nhiá»u á»©ng dá»¥ng khÃ¡ch OpenAI truyá»n thá»‘ng hÆ¡n.
                - **Há»£p nháº¥t Ä‘a phÆ°Æ¡ng thá»©c vÃ  lÃ m sáº¡ch Schema**: TÃ­ch há»£p thÃ nh cÃ´ng logic phÃ¢n tÃ­ch hÃ¬nh áº£nh hiá»‡u suáº¥t cao tá»± phÃ¡t triá»ƒn vÃ  chiáº¿n lÆ°á»£c lá»c JSON Schema Ä‘á»™ chÃ­nh xÃ¡c cao do cá»™ng Ä‘á»“ng Ä‘Ã³ng gÃ³p.
            - **Kiá»ƒm soÃ¡t rÃ ng buá»™c máº¡ng Æ°u tiÃªn quyá»n riÃªng tÆ° (Cáº£m Æ¡n nÃ²ng cá»‘t @kiookp PR #91)**:
                - **Máº·c Ä‘á»‹nh Loopback cá»¥c bá»™**: MÃ¡y chá»§ proxy ngÆ°á»£c máº·c Ä‘á»‹nh láº¯ng nghe `127.0.0.1`, chá»‰ cho phÃ©p truy cáº­p cá»¥c bá»™, Ä‘áº£m báº£o an toÃ n quyá»n riÃªng tÆ°.
                - **Truy cáº­p LAN tÃ¹y chá»n**: ThÃªm cÃ´ng táº¯c cáº¥u hÃ¬nh `allow_lan_access`, sau khi báº­t sáº½ láº¯ng nghe `0.0.0.0` Ä‘á»ƒ cho phÃ©p thiáº¿t bá»‹ trong máº¡ng LAN truy cáº­p.
                - **Cáº£nh bÃ¡o báº£o máº­t**: Giao diá»‡n ngÆ°á»i dÃ¹ng cung cáº¥p cáº£nh bÃ¡o báº£o máº­t vÃ  tráº¡ng thÃ¡i rÃµ rÃ ng.
        - **NÃ¢ng cáº¥p tráº£i nghiá»‡m Frontend**: 
            - **Trá»±c quan hÃ³a Ä‘iá»ƒm cuá»‘i Ä‘a giao thá»©c**: ThÃªm hiá»ƒn thá»‹ chi tiáº¿t Ä‘iá»ƒm cuá»‘i trong trang Proxy API, há»— trá»£ sao chÃ©p nhanh Ä‘á»™c láº­p cho cÃ¡c Ä‘iá»ƒm cuá»‘i Chat/Completions/Responses khÃ¡c nhau.
    *   **v3.2.8 (2025-12-26)**:
        - **Sá»­a lá»—i (Bug Fixes)**:
            - **Há»— trá»£ Ä‘a phÆ°Æ¡ng thá»©c vÃ  mÃ´ hÃ¬nh hÃ¬nh áº£nh giao thá»©c OpenAI**: ÄÃ£ sá»­a hoÃ n toÃ n lá»—i 400 do Ä‘á»‹nh dáº¡ng `content` khÃ´ng khá»›p khi gá»­i yÃªu cáº§u hÃ¬nh áº£nh Ä‘áº¿n mÃ´ hÃ¬nh thá»‹ giÃ¡c (nhÆ° `gemini-3-pro-image`) theo giao thá»©c OpenAI.
            - **Bá»• sung toÃ n diá»‡n kháº£ nÄƒng thá»‹ giÃ¡c**: Hiá»‡n táº¡i giao thá»©c OpenAI há»— trá»£ tá»± Ä‘á»™ng phÃ¢n tÃ­ch cÃº phÃ¡p hÃ¬nh áº£nh Base64 vÃ  Ã¡nh xáº¡ thÃ nh `inlineData` ngÆ°á»£c dÃ²ng, mang láº¡i kháº£ nÄƒng xá»­ lÃ½ hÃ¬nh áº£nh ngang báº±ng vá»›i giao thá»©c Claude.
    *   **v3.2.7 (2025-12-26)**:
        - **TÃ­nh nÄƒng má»›i (New Features)**:
            - **Tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng khi báº­t mÃ¡y**: ÄÃ£ thÃªm chá»©c nÄƒng tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng khi báº­t mÃ¡y, cÃ³ thá»ƒ báº­t/táº¯t má»™t láº§n nháº¥p trong tab "Chung" cá»§a trang cÃ i Ä‘áº·t.
            - **Bá»™ chá»n kÃ­ch thÆ°á»›c trang danh sÃ¡ch tÃ i khoáº£n**: ÄÃ£ thÃªm bá»™ chá»n kÃ­ch thÆ°á»›c trang trong thanh phÃ¢n trang cá»§a trang quáº£n lÃ½ tÃ i khoáº£n, há»— trá»£ chá»n trá»±c tiáº¿p sá»‘ lÆ°á»£ng hiá»ƒn thá»‹ trÃªn má»—i trang (10/20/50/100 má»¥c), khÃ´ng cáº§n vÃ o trang cÃ i Ä‘áº·t, nÃ¢ng cao hiá»‡u quáº£ thao tÃ¡c hÃ ng loáº¡t.
        - **Sá»­a lá»—i (Bug Fixes)**:
            - **TÄƒng cÆ°á»ng logic dá»n dáº¹p JSON Schema (TÆ°Æ¡ng thÃ­ch cÃ´ng cá»¥ MCP)**:
                - **XÃ³a cÃ¡c trÆ°á»ng Schema nÃ¢ng cao**: ÄÃ£ thÃªm xÃ³a cÃ¡c trÆ°á»ng JSON Schema nÃ¢ng cao nhÆ° `propertyNames`, `const`, `anyOf`, `oneOf`, `allOf`, `if/then/else`, `not` thÆ°á»ng Ä‘Æ°á»£c cÃ´ng cá»¥ MCP sá»­ dá»¥ng nhÆ°ng Gemini khÃ´ng há»— trá»£, giáº£i quyáº¿t triá»‡t Ä‘á»ƒ lá»—i 400 khi Claude Code v2.0.76+ sá»­ dá»¥ng cÃ´ng cá»¥ MCP.
                - **Tá»‘i Æ°u hÃ³a thá»© tá»± dá»n dáº¹p Ä‘á»‡ quy**: Äiá»u chá»‰nh Ä‘á»ƒ dá»n dáº¹p Ä‘á»‡ quy cÃ¡c nÃºt con trÆ°á»›c rá»“i má»›i xá»­ lÃ½ nÃºt cha, trÃ¡nh cÃ¡c Ä‘á»‘i tÆ°á»£ng lá»“ng nhau bá»‹ tuáº§n tá»± hÃ³a sai vÃ o description.
                - **TÆ°Æ¡ng thÃ­ch loáº¡i Protobuf**: Buá»™c háº¡ cáº¥p máº£ng loáº¡i há»£p nháº¥t (nhÆ° `["string", "null"]`) thÃ nh loáº¡i Ä‘Æ¡n, giáº£i quyáº¿t lá»—i "Proto field is not repeating".
                - **Nháº­n dáº¡ng trÆ°á»ng thÃ´ng minh**: TÄƒng cÆ°á»ng logic kiá»ƒm tra loáº¡i, Ä‘áº£m báº£o chá»‰ xÃ³a trÆ°á»ng xÃ¡c thá»±c khi giÃ¡ trá»‹ lÃ  loáº¡i tÆ°Æ¡ng á»©ng, trÃ¡nh xÃ³a nháº§m Ä‘á»‹nh nghÄ©a thuá»™c tÃ­nh cÃ³ tÃªn `pattern`, v.v.
            - **Sá»­a lá»—i nháº­p cÆ¡ sá»Ÿ dá»¯ liá»‡u tÃ¹y chá»‰nh**: ÄÃ£ sá»­a lá»—i "Command not found" cá»§a chá»©c nÄƒng "Nháº­p tá»« DB tÃ¹y chá»‰nh" do lá»‡nh `import_custom_db` chÆ°a Ä‘Æ°á»£c Ä‘Äƒng kÃ½. Giá» Ä‘Ã¢y ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ chá»n tá»‡p `state.vscdb` Ä‘Æ°á»ng dáº«n tÃ¹y chá»‰nh Ä‘á»ƒ nháº­p tÃ i khoáº£n bÃ¬nh thÆ°á»ng.
            - **á»”n Ä‘á»‹nh proxy vÃ  tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t váº½**:
                - **CÆ¡ cháº¿ lÃ¹i 429 thÃ´ng minh**: TÃ­ch há»£p sÃ¢u phÃ¢n tÃ­ch `RetryInfo`, tuÃ¢n thá»§ chÃ­nh xÃ¡c hÆ°á»›ng dáº«n thá»­ láº¡i cá»§a Google API vÃ  tÄƒng dá»± phÃ²ng an toÃ n, giáº£m hiá»‡u quáº£ rá»§i ro bá»‹ cáº¥m tÃ i khoáº£n.
                - **PhÃ¢n luá»“ng lá»—i chÃ­nh xÃ¡c**: ÄÃ£ sá»­a logic Ä‘Ã¡nh giÃ¡ sai giá»›i háº¡n táº§n suáº¥t lÃ  cáº¡n kiá»‡t háº¡n quáº¡ch (khÃ´ng cÃ²n giáº¿t nháº§m bÃ¡o lá»—i chá»©a "check quota"), Ä‘áº£m báº£o cÃ³ thá»ƒ tá»± Ä‘á»™ng chuyá»ƒn tÃ i khoáº£n khi bá»‹ giá»›i háº¡n dÃ²ng.
                - **TÄƒng tá»‘c Ä‘á»“ng thá»i yÃªu cáº§u váº½**: VÃ´ hiá»‡u hÃ³a khÃ³a cá»­a sá»• thá»i gian 60 giÃ¢y cho cÃ¡c yÃªu cáº§u loáº¡i `image_gen`, thá»±c hiá»‡n luÃ¢n chuyá»ƒn tÃ i khoáº£n cá»±c nhanh, giáº£i quyáº¿t triá»‡t Ä‘á»ƒ váº¥n Ä‘á» bÃ¡o lá»—i 429 khi váº½.
    *   **v3.2.6 (2025-12-26)**:
        - **Sá»­a lá»—i nghiÃªm trá»ng (Critical Fixes)**:
            - **Tá»‘i Æ°u hÃ³a sÃ¢u giao thá»©c Claude (TÄƒng cÆ°á»ng tráº£i nghiá»‡m Claude Code)**:
                - **Ãnh xáº¡ danh tÃ­nh Ä‘á»™ng**: Tá»± Ä‘á»™ng tiÃªm báº£n vÃ¡ báº£o vá»‡ danh tÃ­nh dá»±a trÃªn mÃ´ hÃ¬nh yÃªu cáº§u, khÃ³a danh tÃ­nh gá»‘c Anthropic, cháº·n nhiá»…u lá»‡nh tá»« ná»n táº£ng trung chuyá»ƒn bÃªn dÆ°á»›i.
                - **BÃ¹ Ä‘áº¯p Ä‘áº§u ra rá»—ng cá»§a cÃ´ng cá»¥**: Äá»‘i vá»›i cÃ¡c lá»‡nh im láº·ng nhÆ° `mkdir`, tá»± Ä‘á»™ng Ã¡nh xáº¡ Ä‘áº§u ra rá»—ng thÃ nh tÃ­n hiá»‡u thÃ nh cÃ´ng rÃµ rÃ ng, giáº£i quyáº¿t váº¥n Ä‘á» giÃ¡n Ä‘oáº¡n dÃ²ng tÃ¡c vá»¥ vÃ  áº£o giÃ¡c cá»§a Claude CLI.
                - **Cáº¥u hÃ¬nh chuá»—i dá»«ng toÃ n cáº§u**: Tá»‘i Æ°u hÃ³a `stopSequences` cho liÃªn káº¿t proxy, cáº¯t chÃ­nh xÃ¡c Ä‘áº§u ra luá»“ng, giáº£i quyáº¿t triá»‡t Ä‘á»ƒ bÃ¡o lá»—i phÃ¢n tÃ­ch cÃº phÃ¡p do dÆ° thá»«a pháº§n Ä‘uÃ´i pháº£n há»“i.
                - **LÃ m sáº¡ch Payload thÃ´ng minh (Smart Panic Fix)**: Giá»›i thiá»‡u kiá»ƒm tra loáº¡i trá»« láº«n nhau giá»¯a `GoogleSearch` vÃ  `FunctionCall`, vÃ  tá»± Ä‘á»™ng tÃ¡ch táº£i cÃ´ng cá»¥ khi chuyá»ƒn hÆ°á»›ng tÃ¡c vá»¥ ná»n (Token Saver), loáº¡i bá» hoÃ n toÃ n lá»—i **400 Xung Ä‘á»™t cÃ´ng cá»¥ (Multiple tools)**.
                - **TÄƒng cÆ°á»ng á»•n Ä‘á»‹nh proxy (Cáº£m Æ¡n nÃ²ng cá»‘t @salacoste PR #79)**: 
                    - **LÃ¹i thÃ´ng minh 429**: Há»— trá»£ phÃ¢n tÃ­ch `RetryInfo` ngÆ°á»£c dÃ²ng, tá»± Ä‘á»™ng chá» vÃ  thá»­ láº¡i khi kÃ­ch hoáº¡t giá»›i háº¡n dÃ²ng, giáº£m Ä‘Ã¡ng ká»ƒ luÃ¢n chuyá»ƒn tÃ i khoáº£n khÃ´ng há»£p lá»‡.
                    - **CÆ¡ cháº¿ dá»± phÃ²ng Resume**: Äá»‘i vá»›i bÃ¡o lá»—i chá»¯ kÃ½ khÃ´ng há»£p lá»‡ cÃ³ thá»ƒ xuáº¥t hiá»‡n á»Ÿ `/resume`, thá»±c hiá»‡n thá»­ láº¡i láº§n hai tá»± Ä‘á»™ng tÃ¡ch khá»‘i Thinking, nÃ¢ng cao tá»· lá»‡ thÃ nh cÃ´ng khÃ´i phá»¥c phiÃªn.
                    - **TÄƒng cÆ°á»ng cháº¿ Ä‘á»™ Schema**: TÄƒng cÆ°á»ng logic dá»n dáº¹p Ä‘á»‡ quy JSON Schema, vÃ  thÃªm lá»c cÃ¡c trÆ°á»ng má»Ÿ rá»™ng nhÆ° `enumCaseInsensitive`.
            - **Cá»§ng cá»‘ bá»™ thá»­ nghiá»‡m**: ÄÃ£ sá»­a lá»—i thiáº¿u nháº­p vÃ  thuá»™c tÃ­nh trÃ¹ng láº·p trong mÃ´ Ä‘un thá»­ nghiá»‡m `mappers`, vÃ  thÃªm thá»­ nghiá»‡m há»£p nháº¥t khá»‘i ná»™i dung vÃ  hoÃ n thÃ nh Ä‘áº§u ra rá»—ng.

*   **Giáº¥y phÃ©p**: Dá»±a trÃªn giáº¥y phÃ©p **CC BY-NC-SA 4.0**, **nghiÃªm cáº¥m má»i hÃ¬nh thá»©c hÃ nh vi thÆ°Æ¡ng máº¡i**.
*   **TuyÃªn bá»‘ báº£o máº­t**: Táº¥t cáº£ dá»¯ liá»‡u tÃ i khoáº£n cá»§a á»©ng dá»¥ng nÃ y Ä‘Æ°á»£c lÆ°u trá»¯ mÃ£ hÃ³a trong cÆ¡ sá»Ÿ dá»¯ liá»‡u SQLite cá»¥c bá»™, trá»« khi báº­t chá»©c nÄƒng Ä‘á»“ng bá»™ hÃ³a, dá»¯ liá»‡u sáº½ khÃ´ng bao giá» rá»i khá»i thiáº¿t bá»‹ cá»§a báº¡n.

---

<div align="center">
  <p>Náº¿u báº¡n tháº¥y cÃ´ng cá»¥ nÃ y há»¯u Ã­ch, vui lÃ²ng cho má»™t â­ï¸ trÃªn GitHub</p>
  <p>Copyright Â© 2025 Antigravity Team.</p>
</div>
